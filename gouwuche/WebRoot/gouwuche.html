<!DOCTYPE html>
<html>
  <head>
    <title>gouwuche.html</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <style type="text/css">
    	td {
    		text-align: center;
    		vertical-align: middle;
    		/*border: 1px solid #f00;*/
    		/*background-color: rgba(31,40,241,0.5);*/
    		padding: 10px;
    	}
    	.mainDIV {
    		text-align: center;
    	}
    	th {
    		background-color: rgba(31,40,241,0.3);
    		padding: 10px;
    	}
    </style>
	<script type="text/javascript">
		
		function add(ele){
			var thisCell=ele.parentNode;
			var kucun=parseInt(thisCell.parentNode.cells[thisCell.cellIndex+1].innerHTML);
			var numField=ele.previousSibling;
			var nowNum=parseInt(numField.value);
			//numField.value=Math.min(nowNum+1,kucun);
			nowNum+=1;
			if (kucun <= 0 ){
				return;
			}
			numField.value=nowNum;
			thisCell.parentNode.cells[thisCell.cellIndex+1].innerHTML=kucun-1;
		}
		
		function de(ele){
			var thisCell=ele.parentNode;
			var kucun=parseInt(thisCell.parentNode.cells[thisCell.cellIndex+1].innerHTML);
			var numField=ele.nextSibling;
			var nowNum=parseInt(numField.value);
			
			//numField.value=Math.max(1,nowNum-1);
			nowNum-=1;
			if (nowNum < 0){
				return;
			}
			numField.value=nowNum;
			thisCell.parentNode.cells[thisCell.cellIndex+1].innerHTML=kucun+1;
			
		}
		
		function deleteItem(ele){
			var mainTable=document.getElementById("mainTB");
			var thisRowIndex=ele.parentNode.parentNode.rowIndex;
			var productName=ele.parentNode.parentNode.cells[1].innerHTML;
			if (window.confirm("是否删除商品"+productName)){
				mainTable.deleteRow(thisRowIndex);
				changeColor();
			}
		}
		
		/*function checkNum(ele){
			var thisCell=ele.parentNode;
			var kucun=parseInt(thisCell.parentNode.cells[thisCell.cellIndex+1].innerHTML);
			var nowNum=parseInt(ele.value);
			
			ele.value=Math.min(kucun,Math.max(1,nowNum));
		}*/
		
		function checkAll(){
			
			return false;
		}
		
		window.onload=function(){
			changeColor();
		}
		
		function changeColor(){
			var allRows=document.getElementById("mainTB").rows;
			for (var i=1;i<allRows.length;i++){
				if (i%2){
					allRows[i].style="background-color: rgba(234,171,171,0.2);";
					allRows[i].onmouseover=function(event){
						event.target.style.backgroundColor="rgba(65,65,65,0.25)";
					}
					allRows[i].onmouseout=function(event){
						event.target.style.backgroundColor="rgba(234,171,171,0.2)";
					}
				}else{
					allRows[i].style="background-color: rgba(171,234,207,0.5);";
					allRows[i].onmouseover=function(event){
						event.target.style.backgroundColor="rgba(65,65,65,0.25)";
					}
					allRows[i].onmouseout=function(event){
						event.target.style.backgroundColor="rgba(171,234,207,0.5)";
					}
				}
			}
			
		}
		
		function mIn(oldColor,e){
			var row=e.target;
			
		}
	</script>
  </head>
  
  <body>
  	<form action="#" method="post" >
  	<div class="mainDIV">
  		<table id="mainTB" style=" text-align: center">
  			<th>商品编号</th>
  			<th>名称</th>
  			<th>价格</th>
  			<th>数量</th>
  			<th>库存</th>
  			<th>操作</th>
  			<tr>
  				<td>1</td>
  				<td>电脑</td>
  				<td>7000</td>
  				<td>
  					<input type="button" value="-" onclick="de(this);"><input type="text" value="1" name="num_1" onblur="checkNum(this);" style="text-align: center;" disabled="disabled" size="3"><input type="button" value="+" onclick="add(this);">
  				</td>
  				<td>10</td>
  				<td>
  					<a href="javascript:void(0)" onclick="deleteItem(this);">删除</a>
  				</td>
  			</tr>
  			<tr>
  				<td>2</td>
  				<td>洗衣机</td>
  				<td>5000</td>
  				<td>
  					<input type="button" value="-" onclick="de(this);"><input type="text" value="4" name="num_2" onblur="checkNum(this);" style="text-align: center;" disabled="disabled" size="3"><input type="button" value="+" onclick="add(this);">
  				</td>
  				<td>13</td>
  				<td>
  					<a href="javascript:void(0)" onclick="deleteItem(this);">删除</a>
  				</td>
  			</tr>
  			<tr>
  				<td>3</td>
  				<td>电视机</td>
  				<td>5000</td>
  				<td>
  					<input type="button" value="-" onclick="de(this);"><input type="text" value="4" name="num_3" onblur="checkNum(this);" style="text-align: center;" disabled="disabled" size="3"><input type="button" value="+" onclick="add(this);">
  				</td>
  				<td>13</td>
  				<td>
  					<a href="javascript:void(0)" onclick="deleteItem(this);">删除</a>
  				</td>
  			</tr>
  			<tr>
  				<td>4</td>
  				<td>飞机</td>
  				<td>5000</td>
  				<td>
  					<input type="button" value="-" onclick="de(this);"><input type="text" value="4" name="num_4" onblur="checkNum(this);" style="text-align: center;" disabled="disabled" size="3"><input type="button" value="+" onclick="add(this);">
  				</td>
  				<td>13</td>
  				<td>
  					<a href="javascript:void(0)" onclick="deleteItem(this);">删除</a>
  				</td>
  			</tr>
  		</table>
  	</div>
  	<input type="submit" value="确认购买" onsubmit="return checkAll();">
  	</form>
  </body>
</html>
